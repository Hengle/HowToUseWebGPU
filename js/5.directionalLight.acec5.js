!function(e){function t(t){for(var r,i,o=t[0],a=t[1],s=t[2],c=0,u=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(B,i)&&B[i]&&u.push(B[i][0]),B[i]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(C&&C(t);u.length;)u.shift()();return D.push.apply(D,s||[]),n()}function n(){for(var e,t=0;t<D.length;t++){for(var n=D[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==B[o]&&(r=!1)}r&&(D.splice(t--,1),e=j(j.s=n[0]))}return e}var r=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!x[e]||!P[e])return;for(var n in P[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--m&&0===b&&O()}(e,t),r&&r(e,t)};var i,o=!0,a="acec5b81b494ea79e0d0",s={},c=[],u=[];function d(t){var n={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(e,t){if(void 0===e)n._selfAccepted=!0;else if("function"==typeof e)n._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)n._acceptedDependencies[e[r]]=t||function(){};else n._acceptedDependencies[e]=t||function(){}},decline:function(e){if(void 0===e)n._selfDeclined=!0;else if("object"==typeof e)for(var t=0;t<e.length;t++)n._declinedDependencies[e[t]]=!0;else n._declinedDependencies[e]=!0},dispose:function(e){n._disposeHandlers.push(e)},addDisposeHandler:function(e){n._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=n._disposeHandlers.indexOf(e);t>=0&&n._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(v={})[t]=e[t],p("ready");break;case"ready":M(t);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(t)}},check:S,apply:U,status:function(e){if(!e)return f;l.push(e)},addStatusHandler:function(e){l.push(e)},removeStatusHandler:function(e){var t=l.indexOf(e);t>=0&&l.splice(t,1)},data:s[t]};return i=void 0,n}var l=[],f="idle";function p(e){f=e;for(var t=0;t<l.length;t++)l[t].call(null,e)}var h,v,y,g,m=0,b=0,w={},P={},x={};function E(e){return+e+""===e?+e:e}function S(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=j.p+""+a+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return p(T()?"ready":"idle"),null;P={},w={},x=e.c,y=e.h,p("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));for(var n in v={},B)_(n);return"prepare"===f&&0===b&&0===m&&O(),t}));var t}function _(e){x[e]?(P[e]=!0,m++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=j.p+""+e+"."+a+".hot-update.js",document.head.appendChild(t)}(e)):w[e]=!0}function O(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then((function(){return U(o)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(E(n));e.resolve(t)}}function U(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function t(n){var r,o,u,d,l;function f(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),o=i.id,a=i.chain;if((d=G[o])&&(!d.hot._selfAccepted||d.hot._selfInvalidated)){if(d.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(d.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var s=0;s<d.parents.length;s++){var c=d.parents[s],u=G[c];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([c]),moduleId:o,parentId:c};-1===t.indexOf(c)&&(u.hot._acceptedDependencies[o]?(n[c]||(n[c]=[]),h(n[c],[o])):(delete n[c],t.push(c),r.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}T();var m={},b=[],w={},P=function(){console.warn("[HMR] unexpected require("+_.moduleId+") to disposed module")};for(var S in v)if(Object.prototype.hasOwnProperty.call(v,S)){var _;l=E(S),_=v[S]?f(l):{type:"disposed",moduleId:S};var O=!1,U=!1,M=!1,D="";switch(_.chain&&(D="\nUpdate propagation: "+_.chain.join(" -> ")),_.type){case"self-declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(O=new Error("Aborted because of self decline: "+_.moduleId+D));break;case"declined":n.onDeclined&&n.onDeclined(_),n.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+_.moduleId+" in "+_.parentId+D));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(_),n.ignoreUnaccepted||(O=new Error("Aborted because "+l+" is not accepted"+D));break;case"accepted":n.onAccepted&&n.onAccepted(_),U=!0;break;case"disposed":n.onDisposed&&n.onDisposed(_),M=!0;break;default:throw new Error("Unexception type "+_.type)}if(O)return p("abort"),Promise.reject(O);if(U)for(l in w[l]=v[l],h(b,_.outdatedModules),_.outdatedDependencies)Object.prototype.hasOwnProperty.call(_.outdatedDependencies,l)&&(m[l]||(m[l]=[]),h(m[l],_.outdatedDependencies[l]));M&&(h(b,[_.moduleId]),w[l]=P)}var A,L=[];for(o=0;o<b.length;o++)l=b[o],G[l]&&G[l].hot._selfAccepted&&w[l]!==P&&!G[l].hot._selfInvalidated&&L.push({module:l,parents:G[l].parents.slice(),errorHandler:G[l].hot._selfAccepted});p("dispose"),Object.keys(x).forEach((function(e){!1===x[e]&&function(e){delete B[e]}(e)}));var k,C,I=b.slice();for(;I.length>0;)if(l=I.pop(),d=G[l]){var H={},R=d.hot._disposeHandlers;for(u=0;u<R.length;u++)(r=R[u])(H);for(s[l]=H,d.hot.active=!1,delete G[l],delete m[l],u=0;u<d.children.length;u++){var V=G[d.children[u]];V&&((A=V.parents.indexOf(l))>=0&&V.parents.splice(A,1))}}for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(d=G[l]))for(C=m[l],u=0;u<C.length;u++)k=C[u],(A=d.children.indexOf(k))>=0&&d.children.splice(A,1);p("apply"),void 0!==y&&(a=y,y=void 0);for(l in v=void 0,w)Object.prototype.hasOwnProperty.call(w,l)&&(e[l]=w[l]);var F=null;for(l in m)if(Object.prototype.hasOwnProperty.call(m,l)&&(d=G[l])){C=m[l];var N=[];for(o=0;o<C.length;o++)if(k=C[o],r=d.hot._acceptedDependencies[k]){if(-1!==N.indexOf(r))continue;N.push(r)}for(o=0;o<N.length;o++){r=N[o];try{r(C)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:l,dependencyId:C[o],error:e}),n.ignoreErrored||F||(F=e)}}}for(o=0;o<L.length;o++){var z=L[o];l=z.module,c=z.parents,i=l;try{j(l)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:t,originalError:e}),n.ignoreErrored||F||(F=t),F||(F=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:l,error:e}),n.ignoreErrored||F||(F=e)}}if(F)return p("fail"),Promise.reject(F);if(g)return t(n).then((function(e){return b.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e}));return p("idle"),new Promise((function(e){e(b)}))}(t=t||{})}function T(){if(g)return v||(v={}),g.forEach(M),g=void 0,!0}function M(t){Object.prototype.hasOwnProperty.call(v,t)||(v[t]=e[t])}var G={},B={5:0},D=[];function j(t){if(G[t])return G[t].exports;var n=G[t]={i:t,l:!1,exports:{},hot:d(t),parents:(u=c,c=[],u),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=G[e];if(!t)return j;var n=function(n){return t.hot.active?(G[n]?-1===G[n].parents.indexOf(e)&&G[n].parents.push(e):(c=[e],i=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),j(n)},r=function(e){return{configurable:!0,enumerable:!0,get:function(){return j[e]},set:function(t){j[e]=t}}};for(var o in j)Object.prototype.hasOwnProperty.call(j,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,r(o));return n.e=function(e){return"ready"===f&&p("prepare"),b++,j.e(e).then(t,(function(e){throw t(),e}));function t(){b--,"prepare"===f&&(w[e]||_(e),0===b&&0===m&&O())}},n.t=function(e,t){return 1&t&&(e=n(e)),j.t(e,-2&t)},n}(t)),n.l=!0,n.exports}j.m=e,j.c=G,j.d=function(e,t,n){j.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},j.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},j.t=function(e,t){if(1&t&&(e=j(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(j.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)j.d(n,r,function(t){return e[t]}.bind(null,r));return n},j.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return j.d(t,"a",t),t},j.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},j.p="",j.h=function(){return a};var A=window.webpackJsonp=window.webpackJsonp||[],L=A.push.bind(A);A.push=t,A=A.slice();for(var k=0;k<A.length;k++)t(A[k]);var C=L;D.push([12,0]),n()}({0:function(e,t,n){},1:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGPURenderEngin=void 0;var o=n(3),a=function(){function e(e){this.pipelines=[],this.clearColor={r:.25,g:.5,b:1,a:1},this.gpu=navigator.gpu,e instanceof HTMLCanvasElement?this.canvas=e:this.canvas=document.getElementById(e)}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,a;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),this.gpu?(e=this,[4,navigator.gpu.requestAdapter({powerPreference:"high-performance"})]):[3,5];case 1:return e.adapter=i.sent(),t=this,[4,this.adapter.requestDevice()];case 2:return t.device=i.sent(),this.canvas.width=this.canvas.parentElement.clientWidth,this.canvas.height=this.canvas.parentElement.clientHeight,this.context=this.canvas.getContext("gpupresent"),n=this,[4,this.context.getSwapChainPreferredFormat(this.device)];case 3:return n.swapChainTextureFormat=i.sent(),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.swapChainTextureFormat,usage:GPUTextureUsage.OUTPUT_ATTACHMENT|GPUTextureUsage.COPY_SRC}),r=this,[4,o.default()];case 4:return r.glslang=i.sent(),this.depthTexture=this.device.createTexture({size:{width:this.canvas.width,height:this.canvas.height,depth:1},format:"depth24plus-stencil8",usage:GPUTextureUsage.OUTPUT_ATTACHMENT}),[2,!0];case 5:return[2,!1];case 6:return[3,8];case 7:return a=i.sent(),console.error(a),[2,!1];case 8:return[2]}}))}))},e.prototype.draw=function(e){this.commandEncoder=this.device.createCommandEncoder();var t={colorAttachments:[{attachment:this.swapChain.getCurrentTexture().createView(),loadValue:this.clearColor,storeOp:"store"}],depthStencilAttachment:{attachment:this.depthTexture.createView(),depthLoadValue:1,depthStoreOp:"store",stencilLoadValue:0,stencilStoreOp:"store"}};this.renderPassEncoder=this.commandEncoder.beginRenderPass(t);var n=this.pipelines[0];this.renderPassEncoder.setPipeline(n.pipeline),this.renderPassEncoder.setBindGroup(0,n.uniformBindGroup),this.renderPassEncoder.setViewport(0,0,this.canvas.width,this.canvas.height,0,1),this.renderPassEncoder.setScissorRect(0,0,this.canvas.width,this.canvas.height);for(var r=0;r<n.attributes.length;r++){var i=n.attributes[r].buffer;this.renderPassEncoder.setVertexBuffer(r,i)}n.indexLength>0?(this.renderPassEncoder.setIndexBuffer(n.indexBuffer),this.renderPassEncoder.drawIndexed(n.indexLength,1,0,0,0)):this.renderPassEncoder.draw(e,1,0,0),this.renderPassEncoder.endPass(),this.device.defaultQueue.submit([this.commandEncoder.finish()])},e}();t.WebGPURenderEngin=a},12:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(1),s=n(2);n(0);var c=new a.WebGPURenderEngin("renderCanvas"),u=new Float32Array([0,0,0,10,100,0,0,100,0,0,0,0,10,0,0,10,100,0,0,0,-10,0,100,-10,10,100,-10,0,0,-10,10,100,-10,10,0,-10,0,100,0,10,100,0,10,100,-10,0,100,0,10,100,-10,0,100,-10,0,0,0,10,0,-10,10,0,0,0,0,0,0,0,-10,10,0,-10,0,0,0,0,100,0,0,0,-10,0,0,-10,0,100,0,0,100,-10,10,10,0,10,10,-10,10,100,0,10,10,-10,10,100,-10,10,100,0,10,0,0,60,10,0,10,10,0,10,0,0,60,0,0,60,10,0,10,0,-10,10,10,-10,60,10,-10,10,0,-10,60,10,-10,60,0,-10,10,10,0,60,10,-10,10,10,-10,10,10,0,60,10,0,60,10,-10,10,0,0,10,0,-10,60,0,-10,10,0,0,60,0,-10,60,0,0,60,0,0,60,10,-10,60,10,0,60,0,0,60,0,-10,60,10,-10]),d=new Float32Array(new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0])),l=o.mat4.perspective(o.mat4.create(),Math.PI/3.5,c.canvas.width/c.canvas.height,.01,1e4),f=o.mat4.lookAt(o.mat4.create(),o.vec3.fromValues(0,150,200),o.vec3.fromValues(0,50,0),o.vec3.fromValues(0,1,0)),p=o.mat4.fromTranslation(o.mat4.create(),o.vec3.fromValues(0,0,0)),h=o.mat4.mul(o.mat4.create(),p,f),v=new Float32Array(32);v.set(l),v.set(h,16);var y=null,g=function(){var e=y.getUniformEntryByBinding(0).resource.buffer;y.updateBuffer(e,0,m()),c.draw(u.length/3),requestAnimationFrame(g)},m=function(){return o.mat4.fromRotation(p,5e-4*(new Date).getTime(),o.vec3.fromValues(0,1,0)),o.mat4.mul(h,f,p),v.set(l),v.set(h,16),v};window.addEventListener("DOMContentLoaded",(function(){return r(void 0,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,c.init()];case 1:return e.sent()&&((y=new s.WebGPURenderPipeline(c,"#version 450\nlayout(set = 0, binding = 0) uniform Uniforms {\n    mat4 uProjectionMatrix;\n    mat4 uModelViewMatrix;\n};\n\nlayout(location = 0) in vec3 aPosition;\nlayout(location = 1) in vec3 aNormal;\n\nlayout(location = 0) out vec3 vNormal;\nvoid main() {\n    gl_Position = uProjectionMatrix * uModelViewMatrix * vec4(aPosition, 1.0);\n    vNormal = aNormal;\n}","#version 450\n    precision highp float; \n    layout(location=0) in vec3 vNormal;\n\n    layout(location=0) out vec4 fragColor;\n\n    void main(){ \n        vec4 color = vec4(1, 0.7, 0.5, 1);  // 模型颜色\n        vec3 lightColor = vec3(0.1, 1, 1); //光源颜色\n        vec3 normal = normalize(vNormal); //法向量\n        vec3 dir = normalize(vec3(0.5,1.0,0.7)); //光源方向\n        float cosTheta = max(dot(normal, dir),0.0); // 计算夹角的cos值\n        vec3 diffuse = lightColor * vec3(color) * cosTheta;\n        fragColor  = vec4(diffuse,1.0);\n    }\n")).addAttribute(u),y.addAttribute(d),y.addUniformBuffer(v),y.generatePipline(),g()),[2]}}))}))}))},2:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebGPURenderPipeline=void 0;var o=function(){function e(e,t,n){var r=this;this.attributes=[],this.uniformEntries=new Map,this.engin=e,this.engin.pipelines.push(this),this.vs=t,this.fs=n,this.vertModule=this.engin.device.createShaderModule({code:this.engin.glslang.compileGLSL(t,"vertex",!0),source:t,transform:function(e){return r.engin.glslang.compileGLSL(e,"vertex",!0)}}),this.fragModule=this.engin.device.createShaderModule({code:this.engin.glslang.compileGLSL(n,"fragment",!0),source:n,transform:function(e){return r.engin.glslang.compileGLSL(e,"fragment",!0)}})}return e.prototype.createBuffer=function(e,t){var n={size:e.byteLength,usage:t},r=this.engin.device.createBufferMapped(n),i=r[0],o=r[1];return new e.constructor(o).set(e),i.unmap(),i},e.prototype.updateBuffer=function(e,t,n){var r=this.engin.device.createBufferMapped({size:n.byteLength,usage:GPUBufferUsage.COPY_SRC}),i=r[0],o=r[1];new n.constructor(o).set(n),i.unmap(),this.engin.device.defaultQueue.writeBuffer(e,t,n,0,n.byteLength)},e.prototype.addAttribute=function(e,t){void 0===t&&(t=3);var n=this.createBuffer(e,GPUBufferUsage.VERTEX);this.attributes.push({buffer:n,componentSize:t})},e.prototype.setIndex=function(e){this.indexBuffer=this.createBuffer(e,GPUBufferUsage.INDEX),this.indexLength=e.length},e.prototype.addUniformEntry=function(e){this.uniformEntries.set(e.binding,e)},e.prototype.getUniformEntryByBinding=function(e){return this.uniformEntries.get(e)},e.prototype.addUniformBuffer=function(e,t){void 0===t&&(t=0);var n=this.createBuffer(e,GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST);this.addUniformEntry({binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,type:"uniform-buffer",resource:{buffer:n}})},e.prototype.addSampler=function(e,t,n){void 0===t&&(t="linear"),void 0===n&&(n="linear");var r=this.engin.device.createSampler({magFilter:t,minFilter:n,maxAnisotropy:4});this.addUniformEntry({binding:e,visibility:GPUShaderStage.FRAGMENT,type:"sampler",resource:r})},e.prototype.addTextureView=function(e,t,n){return void 0===n&&(n=!0),r(this,void 0,void 0,(function(){var r,o,a,s,c,u;return i(this,(function(i){switch(i.label){case 0:return r=new Image,n&&(r.crossOrigin="anonymous"),r.src=t,[4,r.decode()];case 1:return i.sent(),[4,createImageBitmap(r)];case 2:return o=i.sent(),a=this.engin.device.createTexture({size:{width:r.width,height:r.height,depth:1},format:"rgba8unorm",usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.SAMPLED}),s={imageBitmap:o},c={texture:a},u={width:r.width,height:r.height,depth:1},this.engin.device.defaultQueue.copyImageBitmapToTexture(s,c,u),o.close(),this.addUniformEntry({binding:e,visibility:GPUShaderStage.FRAGMENT,type:"sampled-texture",resource:a.createView()}),[2]}}))}))},e.prototype.generateUniforms=function(){var e={entries:[]},t=[];this.uniformEntries.values;this.uniformEntries.forEach((function(n,r){e.entries.push({binding:n.binding,visibility:n.visibility,type:n.type}),t.push({binding:n.binding,resource:n.resource})})),this.uniformBindGroupLayout=this.engin.device.createBindGroupLayout(e),this.uniformBindGroup=this.engin.device.createBindGroup({layout:this.uniformBindGroupLayout,entries:t})},e.prototype.generatePipline=function(){this.generateUniforms(),this.vertexStage={module:this.vertModule,entryPoint:"main"},this.fragmentStage={module:this.fragModule,entryPoint:"main"},this.colorState={format:"bgra8unorm",colorBlend:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},writeMask:GPUColorWrite.ALL},this.rasterizationState={},this.layout=this.engin.device.createPipelineLayout({bindGroupLayouts:[this.uniformBindGroupLayout]}),this.vertexState={indexFormat:"uint16",vertexBuffers:this.getVertexBufferDesc()},this.pipelineDesc={layout:this.layout,vertexStage:this.vertexStage,fragmentStage:this.fragmentStage,primitiveTopology:"triangle-list",colorStates:[this.colorState],vertexState:this.vertexState,depthStencilState:{depthWriteEnabled:!0,depthCompare:"less",format:"depth24plus-stencil8"},rasterizationState:this.rasterizationState},this.pipeline=this.engin.device.createRenderPipeline(this.pipelineDesc)},e.prototype.getVertexBufferDesc=function(){return this.attributes.map((function(e,t){return{attributes:[{shaderLocation:t,offset:0,format:"float"+e.componentSize}],arrayStride:4*e.componentSize,stepMode:"vertex"}}))},e}();t.WebGPURenderPipeline=o}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9yZW5kZXJFbmdpbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZGVtby81LmRpcmVjdGlvbmFsTGlnaHQvcGFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3BpcGxpbmUudHMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsInBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrIiwid2luZG93IiwiaG90QXZhaWxhYmxlRmlsZXNNYXAiLCJob3RSZXF1ZXN0ZWRGaWxlc01hcCIsImhvdFVwZGF0ZSIsImhvdFdhaXRpbmdGaWxlcyIsImhvdENodW5rc0xvYWRpbmciLCJob3RVcGRhdGVEb3dubG9hZGVkIiwiaG90QWRkVXBkYXRlQ2h1bmsiLCJob3RDdXJyZW50Q2hpbGRNb2R1bGUiLCJob3RBcHBseU9uVXBkYXRlIiwiaG90Q3VycmVudEhhc2giLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlTW9kdWxlIiwiaG90IiwiX2FjY2VwdGVkRGVwZW5kZW5jaWVzIiwiX2RlY2xpbmVkRGVwZW5kZW5jaWVzIiwiX3NlbGZBY2NlcHRlZCIsIl9zZWxmRGVjbGluZWQiLCJfc2VsZkludmFsaWRhdGVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWN0aXZlIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJkZWNsaW5lIiwiZGlzcG9zZSIsImFkZERpc3Bvc2VIYW5kbGVyIiwicmVtb3ZlRGlzcG9zZUhhbmRsZXIiLCJpZHgiLCJpbmRleE9mIiwiaW52YWxpZGF0ZSIsInRoaXMiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJob3RBcHBseUludmFsaWRhdGVkTW9kdWxlIiwiaG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzIiwiY2hlY2siLCJob3RDaGVjayIsImhvdEFwcGx5Iiwic3RhdHVzIiwibCIsImhvdFN0YXR1c0hhbmRsZXJzIiwiYWRkU3RhdHVzSGFuZGxlciIsInJlbW92ZVN0YXR1c0hhbmRsZXIiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJob3RXYWl0aW5nRmlsZXNNYXAiLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3QiLCJyZXF1ZXN0UGF0aCIsInAiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJlcnIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwidXBkYXRlIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZSIsInRoZW4iLCJob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcyIsImMiLCJoIiwicHJvbWlzZSIsImhvdEVuc3VyZVVwZGF0ZUNodW5rIiwic2NyaXB0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInNyYyIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImhvdERvd25sb2FkVXBkYXRlQ2h1bmsiLCJkZWZlcnJlZCIsIm91dGRhdGVkTW9kdWxlcyIsIm9wdGlvbnMiLCJob3RBcHBseUludGVybmFsIiwiY2IiLCJtb2R1bGUiLCJnZXRBZmZlY3RlZFN0dWZmIiwidXBkYXRlTW9kdWxlSWQiLCJvdXRkYXRlZERlcGVuZGVuY2llcyIsInF1ZXVlIiwibWFwIiwiY2hhaW4iLCJxdWV1ZUl0ZW0iLCJwb3AiLCJpbnN0YWxsZWRNb2R1bGVzIiwidHlwZSIsInBhcmVudHMiLCJwYXJlbnRJZCIsInBhcmVudCIsImNvbmNhdCIsImFkZEFsbFRvU2V0IiwiYSIsImIiLCJpdGVtIiwiYXBwbGllZFVwZGF0ZSIsIndhcm5VbmV4cGVjdGVkUmVxdWlyZSIsImNvbnNvbGUiLCJ3YXJuIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwic2xpY2UiLCJlcnJvckhhbmRsZXIiLCJrZXlzIiwiZm9yRWFjaCIsImhvdERpc3Bvc2VDaHVuayIsImRlcGVuZGVuY3kiLCJtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyIsImRpc3Bvc2VIYW5kbGVycyIsImNoaWxkcmVuIiwiY2hpbGQiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImxpc3QiLCI1IiwiZXhwb3J0cyIsIm1lIiwiZm4iLCJPYmplY3RGYWN0b3J5IiwibmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJzZXQiLCJ2YWx1ZSIsImRlZmluZVByb3BlcnR5IiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwidCIsIm1vZGUiLCJob3RDcmVhdGVSZXF1aXJlIiwibSIsImQiLCJnZXR0ZXIiLCJvIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsImpzb25wQXJyYXkiLCJvbGRKc29ucEZ1bmN0aW9uIiwiY2FudmFzT3JEb21JZCIsInBpcGVsaW5lcyIsImNsZWFyQ29sb3IiLCJnIiwiZ3B1IiwibmF2aWdhdG9yIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImluaXQiLCJyZXF1ZXN0QWRhcHRlciIsInBvd2VyUHJlZmVyZW5jZSIsImFkYXB0ZXIiLCJyZXF1ZXN0RGV2aWNlIiwiZGV2aWNlIiwid2lkdGgiLCJwYXJlbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImdldFN3YXBDaGFpblByZWZlcnJlZEZvcm1hdCIsInN3YXBDaGFpblRleHR1cmVGb3JtYXQiLCJzd2FwQ2hhaW4iLCJjb25maWd1cmVTd2FwQ2hhaW4iLCJmb3JtYXQiLCJ1c2FnZSIsIkdQVVRleHR1cmVVc2FnZSIsIk9VVFBVVF9BVFRBQ0hNRU5UIiwiQ09QWV9TUkMiLCJnbHNsYW5nIiwiZGVwdGhUZXh0dXJlIiwiY3JlYXRlVGV4dHVyZSIsInNpemUiLCJkZXB0aCIsImRyYXciLCJ2ZXJ0TnVtIiwiY29tbWFuZEVuY29kZXIiLCJjcmVhdGVDb21tYW5kRW5jb2RlciIsInJlbmRlclBhc3NEZXNjIiwiY29sb3JBdHRhY2htZW50cyIsImF0dGFjaG1lbnQiLCJnZXRDdXJyZW50VGV4dHVyZSIsImNyZWF0ZVZpZXciLCJsb2FkVmFsdWUiLCJzdG9yZU9wIiwiZGVwdGhTdGVuY2lsQXR0YWNobWVudCIsImRlcHRoTG9hZFZhbHVlIiwiZGVwdGhTdG9yZU9wIiwic3RlbmNpbExvYWRWYWx1ZSIsInN0ZW5jaWxTdG9yZU9wIiwicmVuZGVyUGFzc0VuY29kZXIiLCJiZWdpblJlbmRlclBhc3MiLCJjdXJyZW50UGlwZWxpbmUiLCJzZXRQaXBlbGluZSIsInBpcGVsaW5lIiwic2V0QmluZEdyb3VwIiwidW5pZm9ybUJpbmRHcm91cCIsInNldFZpZXdwb3J0Iiwic2V0U2Npc3NvclJlY3QiLCJhdHRyaWJ1dGVzIiwiYnVmZmVyIiwic2V0VmVydGV4QnVmZmVyIiwiaW5kZXhMZW5ndGgiLCJzZXRJbmRleEJ1ZmZlciIsImluZGV4QnVmZmVyIiwiZHJhd0luZGV4ZWQiLCJlbmRQYXNzIiwiZGVmYXVsdFF1ZXVlIiwic3VibWl0IiwiZmluaXNoIiwiV2ViR1BVUmVuZGVyRW5naW4iLCJyZW5kZXJFbmdpbmUiLCJwb3NpdGlvbnMiLCJGbG9hdDMyQXJyYXkiLCJub3JtYWxzIiwicHJvamVjdGlvbk10cml4IiwibWF0NCIsInBlcnNwZWN0aXZlIiwiTWF0aCIsIlBJIiwidmlld01hdHJpeCIsImxvb2tBdCIsInZlYzMiLCJmcm9tVmFsdWVzIiwibG9uZ1NpemUiLCJtb2RlbE1hdHJpeCIsImZyb21UcmFuc2xhdGlvbiIsIm12TWF0cml4IiwibXVsIiwibWF0cml4QXJyYXkiLCJwaXBsaW5lIiwicmVuZGVyIiwiZ2V0VW5pZm9ybUVudHJ5QnlCaW5kaW5nIiwicmVzb3VyY2UiLCJ1cGRhdGVCdWZmZXIiLCJnZXRSb3RhdGVNYXRyaXgiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmcm9tUm90YXRpb24iLCJEYXRlIiwiZ2V0VGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJXZWJHUFVSZW5kZXJQaXBlbGluZSIsImFkZEF0dHJpYnV0ZSIsImFkZFVuaWZvcm1CdWZmZXIiLCJnZW5lcmF0ZVBpcGxpbmUiLCJlbmdpbmUiLCJ2cyIsImZzIiwidW5pZm9ybUVudHJpZXMiLCJNYXAiLCJlbmdpbiIsInZlcnRNb2R1bGUiLCJjcmVhdGVTaGFkZXJNb2R1bGUiLCJjb2RlIiwiY29tcGlsZUdMU0wiLCJzb3VyY2UiLCJ0cmFuc2Zvcm0iLCJmcmFnTW9kdWxlIiwiY3JlYXRlQnVmZmVyIiwiZnJvbVR5cGVkQXJyYXkiLCJkZXNjIiwiYnl0ZUxlbmd0aCIsImNyZWF0ZUJ1ZmZlck1hcHBlZCIsImJ1ZmZlck1hcHBlZCIsImNvbnN0cnVjdG9yIiwidW5tYXAiLCJ0byIsIm9mZnNldCIsIkdQVUJ1ZmZlclVzYWdlIiwidXBsb2FkQnVmZmVyIiwid3JpdGVCdWZmZXIiLCJ0eXBlZEFycmF5IiwiY29tcG9uZW50U2l6ZSIsIlZFUlRFWCIsInNldEluZGV4IiwiSU5ERVgiLCJhZGRVbmlmb3JtRW50cnkiLCJiaW5kaW5nIiwiVU5JRk9STSIsIkNPUFlfRFNUIiwidmlzaWJpbGl0eSIsIkdQVVNoYWRlclN0YWdlIiwiRlJBR01FTlQiLCJhZGRTYW1wbGVyIiwibWFnRmlsdGVyIiwibWluRmlsdGVyIiwic2FtcGxlciIsImNyZWF0ZVNhbXBsZXIiLCJtYXhBbmlzb3Ryb3B5IiwiYWRkVGV4dHVyZVZpZXciLCJ1cmwiLCJuZWVkQ29ycyIsImltZyIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJkZWNvZGUiLCJjcmVhdGVJbWFnZUJpdG1hcCIsImJpdG1hcCIsInRleHR1cmUiLCJTQU1QTEVEIiwiaW1hZ2VCaXRtYXAiLCJkZXN0aW5hdGlvbiIsImNvcHlTaXplIiwiY29weUltYWdlQml0bWFwVG9UZXh0dXJlIiwiY2xvc2UiLCJnZW5lcmF0ZVVuaWZvcm1zIiwiYmluZEdyb3VwTGF5b3V0RGVzIiwiZW50cmllcyIsImJpbmRHcm91cEVudHJpZXMiLCJ2YWx1ZXMiLCJlbnRyeSIsInVuaWZvcm1CaW5kR3JvdXBMYXlvdXQiLCJjcmVhdGVCaW5kR3JvdXBMYXlvdXQiLCJjcmVhdGVCaW5kR3JvdXAiLCJsYXlvdXQiLCJ2ZXJ0ZXhTdGFnZSIsImVudHJ5UG9pbnQiLCJmcmFnbWVudFN0YWdlIiwiY29sb3JTdGF0ZSIsImNvbG9yQmxlbmQiLCJzcmNGYWN0b3IiLCJkc3RGYWN0b3IiLCJvcGVyYXRpb24iLCJ3cml0ZU1hc2siLCJHUFVDb2xvcldyaXRlIiwiQUxMIiwicmFzdGVyaXphdGlvblN0YXRlIiwiY3JlYXRlUGlwZWxpbmVMYXlvdXQiLCJiaW5kR3JvdXBMYXlvdXRzIiwidmVydGV4U3RhdGUiLCJpbmRleEZvcm1hdCIsInZlcnRleEJ1ZmZlcnMiLCJnZXRWZXJ0ZXhCdWZmZXJEZXNjIiwicGlwZWxpbmVEZXNjIiwicHJpbWl0aXZlVG9wb2xvZ3kiLCJjb2xvclN0YXRlcyIsImRlcHRoU3RlbmNpbFN0YXRlIiwiZGVwdGhXcml0ZUVuYWJsZWQiLCJkZXB0aENvbXBhcmUiLCJjcmVhdGVSZW5kZXJQaXBlbGluZSIsImluZGV4Iiwic2hhZGVyTG9jYXRpb24iLCJhcnJheVN0cmlkZSIsInN0ZXBNb2RlIl0sIm1hcHBpbmdzIjoiYUFDRSxTQUFTQSxFQUFxQkMsR0FRN0IsSUFQQSxJQU1JQyxFQUFVQyxFQU5WQyxFQUFXSCxFQUFLLEdBQ2hCSSxFQUFjSixFQUFLLEdBQ25CSyxFQUFpQkwsRUFBSyxHQUlITSxFQUFJLEVBQUdDLEVBQVcsR0FDcENELEVBQUlILEVBQVNLLE9BQVFGLElBQ3pCSixFQUFVQyxFQUFTRyxHQUNoQkcsT0FBT0MsVUFBVUMsZUFBZUMsS0FBS0MsRUFBaUJYLElBQVlXLEVBQWdCWCxJQUNwRkssRUFBU08sS0FBS0QsRUFBZ0JYLEdBQVMsSUFFeENXLEVBQWdCWCxHQUFXLEVBRTVCLElBQUlELEtBQVlHLEVBQ1pLLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtSLEVBQWFILEtBQ3BEYyxFQUFRZCxHQUFZRyxFQUFZSCxJQUtsQyxJQUZHZSxHQUFxQkEsRUFBb0JoQixHQUV0Q08sRUFBU0MsUUFDZEQsRUFBU1UsT0FBVFYsR0FPRCxPQUhBVyxFQUFnQkosS0FBS0ssTUFBTUQsRUFBaUJiLEdBQWtCLElBR3ZEZSxJQUVSLFNBQVNBLElBRVIsSUFEQSxJQUFJQyxFQUNJZixFQUFJLEVBQUdBLEVBQUlZLEVBQWdCVixPQUFRRixJQUFLLENBRy9DLElBRkEsSUFBSWdCLEVBQWlCSixFQUFnQlosR0FDakNpQixHQUFZLEVBQ1JDLEVBQUksRUFBR0EsRUFBSUYsRUFBZWQsT0FBUWdCLElBQUssQ0FDOUMsSUFB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S0FBSzZULDBCQUc1QjdULEtBQUsrVSxZQUFjLENBQ2ZDLFlBQWEsU0FDYkMsY0FBZWpWLEtBQUtrVix1QkFHeEJsVixLQUFLbVYsYUFBZSxDQUNoQm5CLE9BQVFoVSxLQUFLZ1UsT0FDYkMsWUFBYWpVLEtBQUtpVSxZQUNsQkUsY0FBZW5VLEtBQUttVSxjQUNwQmlCLGtCQUFtQixnQkFDbkJDLFlBQWEsQ0FBQ3JWLEtBQUtvVSxZQUNuQlcsWUFBYS9VLEtBQUsrVSxZQUNsQk8sa0JBQW1CLENBQ2ZDLG1CQUFtQixFQUNuQkMsYUFBYyxPQUNkOUssT0FBUSx3QkFFWmtLLG1CQUFvQjVVLEtBQUs0VSxvQkFFN0I1VSxLQUFLd00sU0FBV3hNLEtBQUtnUSxNQUFNbEcsT0FBTzJMLHFCQUM5QnpWLEtBQUttVixlQUliLFlBQUFELG9CQUFBLFdBQ0ksT0FBT2xWLEtBQUs2TSxXQUFXOUksS0FBSSxTQUFDYSxFQUFNOFEsR0FhOUIsTUFab0QsQ0FDaEQ3SSxXQUFZLENBQ1IsQ0FDSThJLGVBQWdCRCxFQUNoQnpFLE9BQVEsRUFFUnZHLE9BQVEsUUFBUTlGLEVBQUswTSxnQkFHN0JzRSxZQUFhLEVBQUloUixFQUFLME0sY0FDdEJ1RSxTQUFVLGNBSzFCLEVBclhBLEdBQWEsRUFBQXRHIiwiZmlsZSI6ImpzLzUuZGlyZWN0aW9uYWxMaWdodC5hY2VjNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkgJiYgaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiYWNlYzViODFiNDk0ZWE3OWUwZDBcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZJbnZhbGlkYXRlZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGludmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0dGhpcy5fc2VsZkludmFsaWRhdGVkID0gdHJ1ZTtcbiBcdFx0XHRcdHN3aXRjaCAoaG90U3RhdHVzKSB7XG4gXHRcdFx0XHRcdGNhc2UgXCJpZGxlXCI6XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwicmVhZHlcIjpcbiBcdFx0XHRcdFx0XHRob3RBcHBseUludmFsaWRhdGVkTW9kdWxlKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcInByZXBhcmVcIjpcbiBcdFx0XHRcdFx0Y2FzZSBcImNoZWNrXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlXCI6XG4gXHRcdFx0XHRcdGNhc2UgXCJhcHBseVwiOlxuIFx0XHRcdFx0XHRcdChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMgPVxuIFx0XHRcdFx0XHRcdFx0aG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzIHx8IFtdKS5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHQvLyBpZ25vcmUgcmVxdWVzdHMgaW4gZXJyb3Igc3RhdGVzXG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2gsIGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcztcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhob3RBcHBseUludmFsaWRhdGVkTW9kdWxlcygpID8gXCJyZWFkeVwiIDogXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0Zm9yKHZhciBjaHVua0lkIGluIGluc3RhbGxlZENodW5rcylcbiBcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHR7XG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuIFx0XHRyZXR1cm4gaG90QXBwbHlJbnRlcm5hbChvcHRpb25zKTtcbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHlJbnRlcm5hbChvcHRpb25zKSB7XG4gXHRcdGhvdEFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCk7XG5cbiBcdFx0dmFyIGNiO1xuIFx0XHR2YXIgaTtcbiBcdFx0dmFyIGo7XG4gXHRcdHZhciBtb2R1bGU7XG4gXHRcdHZhciBtb2R1bGVJZDtcblxuIFx0XHRmdW5jdGlvbiBnZXRBZmZlY3RlZFN0dWZmKHVwZGF0ZU1vZHVsZUlkKSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFt1cGRhdGVNb2R1bGVJZF07XG4gXHRcdFx0dmFyIG91dGRhdGVkRGVwZW5kZW5jaWVzID0ge307XG5cbiBcdFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChcbiBcdFx0XHRcdFx0IW1vZHVsZSB8fFxuIFx0XHRcdFx0XHQobW9kdWxlLmhvdC5fc2VsZkFjY2VwdGVkICYmICFtb2R1bGUuaG90Ll9zZWxmSW52YWxpZGF0ZWQpXG4gXHRcdFx0XHQpXG4gXHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWQgJiZcbiBcdFx0XHRcdC8vIHJlbW92ZWQgc2VsZi1hY2NlcHRlZCBtb2R1bGVzIHNob3VsZCBub3QgYmUgcmVxdWlyZWRcbiBcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdICE9PSB3YXJuVW5leHBlY3RlZFJlcXVpcmUgJiZcbiBcdFx0XHRcdC8vIHdoZW4gY2FsbGVkIGludmFsaWRhdGUgc2VsZi1hY2NlcHRpbmcgaXMgbm90IHBvc3NpYmxlXG4gXHRcdFx0XHQhaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmSW52YWxpZGF0ZWRcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0cGFyZW50czogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0ucGFyZW50cy5zbGljZSgpLFxuIFx0XHRcdFx0XHRlcnJvckhhbmRsZXI6IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmhvdC5fc2VsZkFjY2VwdGVkXG4gXHRcdFx0XHR9KTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRpZiAoaG90VXBkYXRlTmV3SGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gXHRcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1bmRlZmluZWQ7XG4gXHRcdH1cbiBcdFx0aG90VXBkYXRlID0gdW5kZWZpbmVkO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBpdGVtLnBhcmVudHM7XG4gXHRcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gbW9kdWxlSWQ7XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGlmIChob3RRdWV1ZWRJbnZhbGlkYXRlZE1vZHVsZXMpIHtcbiBcdFx0XHRyZXR1cm4gaG90QXBwbHlJbnRlcm5hbChvcHRpb25zKS50aGVuKGZ1bmN0aW9uKGxpc3QpIHtcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG1vZHVsZUlkKSB7XG4gXHRcdFx0XHRcdGlmIChsaXN0LmluZGV4T2YobW9kdWxlSWQpIDwgMCkgbGlzdC5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdFx0cmV0dXJuIGxpc3Q7XG4gXHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdEFwcGx5SW52YWxpZGF0ZWRNb2R1bGVzKCkge1xuIFx0XHRpZiAoaG90UXVldWVkSW52YWxpZGF0ZWRNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKCFob3RVcGRhdGUpIGhvdFVwZGF0ZSA9IHt9O1xuIFx0XHRcdGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcy5mb3JFYWNoKGhvdEFwcGx5SW52YWxpZGF0ZWRNb2R1bGUpO1xuIFx0XHRcdGhvdFF1ZXVlZEludmFsaWRhdGVkTW9kdWxlcyA9IHVuZGVmaW5lZDtcbiBcdFx0XHRyZXR1cm4gdHJ1ZTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseUludmFsaWRhdGVkTW9kdWxlKG1vZHVsZUlkKSB7XG4gXHRcdGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGhvdFVwZGF0ZSwgbW9kdWxlSWQpKVxuIFx0XHRcdGhvdFVwZGF0ZVttb2R1bGVJZF0gPSBtb2R1bGVzW21vZHVsZUlkXTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDU6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFsxMiwwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0wOCAxNTo0ODoxMFxuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0yMCAwOTozNzoyMlxuICovXG5cbmltcG9ydCB7IEdsc2xhbmcgfSBmcm9tIFwiQHdlYmdwdS9nbHNsYW5nL2Rpc3Qvd2ViLWRldmVsL2dsc2xhbmcub25lZmlsZVwiO1xuaW1wb3J0IGdsc2xhbmdNb2R1bGUgZnJvbSBcIkB3ZWJncHUvZ2xzbGFuZy9kaXN0L3dlYi1kZXZlbC9nbHNsYW5nLm9uZWZpbGVcIjtcbmltcG9ydCB7IFdlYkdQVVJlbmRlclBpcGVsaW5lIH0gZnJvbSBcIi4vcGlwbGluZVwiO1xuXG5leHBvcnQgY2xhc3MgV2ViR1BVUmVuZGVyRW5naW4ge1xuICAgIGdwdTogR1BVO1xuICAgIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgY29udGV4dDogR1BVQ2FudmFzQ29udGV4dDtcblxuICAgIC8vIEFQSSBEYXRhIFN0cnVjdHVyZXNcbiAgICBhZGFwdGVyOiBHUFVBZGFwdGVyO1xuICAgIGRldmljZTogR1BVRGV2aWNlO1xuICAgIHF1ZXVlOiBHUFVRdWV1ZTtcblxuICAgIC8vIEZyYW1lIEJhY2tpbmdzXG4gICAgc3dhcENoYWluOiBHUFVTd2FwQ2hhaW47XG4gICAgc3dhcENoYWluVGV4dHVyZUZvcm1hdDogR1BVVGV4dHVyZUZvcm1hdDtcbiAgICBjb2xvclRleHR1cmU6IEdQVVRleHR1cmU7XG4gICAgY29sb3JUZXh0dXJlVmlldzogR1BVVGV4dHVyZVZpZXc7XG4gICAgZGVwdGhUZXh0dXJlOiBHUFVUZXh0dXJlO1xuICAgIGRlcHRoVGV4dHVyZVZpZXc6IEdQVVRleHR1cmVWaWV3O1xuXG4gICAgLy8gUmVzb3VyY2VzXG5cbiAgICBnbHNsYW5nOiBHbHNsYW5nO1xuICAgIHBvc2l0aW9uQnVmZmVyOiBHUFVCdWZmZXI7XG4gICAgY29sb3JCdWZmZXI6IEdQVUJ1ZmZlcjtcbiAgICBpbmRleEJ1ZmZlcjogR1BVQnVmZmVyO1xuICAgIHZlcnRNb2R1bGU6IEdQVVNoYWRlck1vZHVsZTtcbiAgICBmcmFnTW9kdWxlOiBHUFVTaGFkZXJNb2R1bGU7XG4gICAgcGlwZWxpbmVzOiBBcnJheTxXZWJHUFVSZW5kZXJQaXBlbGluZT4gPSBbXTtcblxuICAgIGNvbW1hbmRFbmNvZGVyOiBHUFVDb21tYW5kRW5jb2RlcjtcbiAgICByZW5kZXJQYXNzRW5jb2RlcjogR1BVUmVuZGVyUGFzc0VuY29kZXI7XG5cbiAgICBjbGVhckNvbG9yID0geyByOiAwLjI1LCBnOiAwLjUsIGI6IDEsIGE6IDEuMCB9O1xuICAgIGNvbnN0cnVjdG9yKGNhbnZhc09yRG9tSWQ6IEhUTUxDYW52YXNFbGVtZW50IHwgc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZ3B1ID0gbmF2aWdhdG9yLmdwdTtcbiAgICAgICAgaWYgKGNhbnZhc09yRG9tSWQgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXNPckRvbUlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICAgICAgICBjYW52YXNPckRvbUlkXG4gICAgICAgICAgICApIGFzIEhUTUxDYW52YXNFbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdwdSkge1xuICAgICAgICAgICAgICAgIC8vIOaLv+WIsGdwdeeahOmAgumFjeWZqO+8iOaYvuWNoe+8iVxuICAgICAgICAgICAgICAgIHRoaXMuYWRhcHRlciA9IGF3YWl0IG5hdmlnYXRvci5ncHUucmVxdWVzdEFkYXB0ZXIoe1xuICAgICAgICAgICAgICAgICAgICBwb3dlclByZWZlcmVuY2U6IFwiaGlnaC1wZXJmb3JtYW5jZVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8g6YCC6YWN5Zmo6I635Y+W5YW35L2T55qEZGV2aWNl5a6e5L6LXG4gICAgICAgICAgICAgICAgdGhpcy5kZXZpY2UgPSBhd2FpdCB0aGlzLmFkYXB0ZXIucmVxdWVzdERldmljZSgpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLnBhcmVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgLy8g6L+Z5Y+l6Z2e5bi46aG65bqP6Z2e5bi46YeN6KaB77yM5LiN6IO95Zyo6I635Y+WZGV2aWNl5LmL5YmN6I635Y+WY29udGV4dO+8jOWQpuWImeS8mmNhbnZhc+S4jeaYvuekuuWbvuW9olxuICAgICAgICAgICAgICAgIC8vIOWPquacieWcqGRvbeabtOaWsO+8iOS+i+WmguS/ruaUuWNhbnZhc2Nzc+WuvemrmO+8ieWQjuaJjeaYvuekulxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dCA9ICg8dW5rbm93bj4oXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FudmFzLmdldENvbnRleHQoXCJncHVwcmVzZW50XCIpXG4gICAgICAgICAgICAgICAgKSkgYXMgR1BVQ2FudmFzQ29udGV4dDtcblxuICAgICAgICAgICAgICAgIC8vIOiOt+WPlnN3YXBjaGFpbiDnlKjkuo7lkJFjYW52YXPovpPlh7rmuLLmn5Pnu5PmnpxcbiAgICAgICAgICAgICAgICB0aGlzLnN3YXBDaGFpblRleHR1cmVGb3JtYXQgPSBhd2FpdCB0aGlzLmNvbnRleHQuZ2V0U3dhcENoYWluUHJlZmVycmVkRm9ybWF0KFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRldmljZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2FwQ2hhaW4gPSB0aGlzLmNvbnRleHQuY29uZmlndXJlU3dhcENoYWluKHtcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlOiB0aGlzLmRldmljZSxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiB0aGlzLnN3YXBDaGFpblRleHR1cmVGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOlxuICAgICAgICAgICAgICAgICAgICAgICAgR1BVVGV4dHVyZVVzYWdlLk9VVFBVVF9BVFRBQ0hNRU5UIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIEdQVVRleHR1cmVVc2FnZS5DT1BZX1NSQyxcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2xzbGFuZyA9IGF3YWl0IGdsc2xhbmdNb2R1bGUoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gdGhpcy5kZXZpY2UuY3JlYXRlVGV4dHVyZSh7XG4gICAgICAgICAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwdGg6IDEsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJkZXB0aDI0cGx1cy1zdGVuY2lsOFwiLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLk9VVFBVVF9BVFRBQ0hNRU5ULFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KHZlcnROdW0/OiBudW1iZXIpIHtcbiAgICAgICAgLy8g5Yib5bu6Y29tbWFuZOeUn+aIkOWZqCDnlKjmnaXnvJbnoIHlkJFncHXlj5HpgIHnmoRjb21tYW5kXG4gICAgICAgIHRoaXMuY29tbWFuZEVuY29kZXIgPSB0aGlzLmRldmljZS5jcmVhdGVDb21tYW5kRW5jb2RlcigpO1xuICAgICAgICAvLyDmuLLmn5NwYXNz55qE5o+P6L+wXG4gICAgICAgIGNvbnN0IHJlbmRlclBhc3NEZXNjOiBHUFVSZW5kZXJQYXNzRGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgIGNvbG9yQXR0YWNobWVudHM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuc3dhcENoYWluLmdldEN1cnJlbnRUZXh0dXJlKCkuY3JlYXRlVmlldygpLFxuICAgICAgICAgICAgICAgICAgICBsb2FkVmFsdWU6IHRoaXMuY2xlYXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVPcDogXCJzdG9yZVwiLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGVwdGhTdGVuY2lsQXR0YWNobWVudDoge1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnQ6IHRoaXMuZGVwdGhUZXh0dXJlLmNyZWF0ZVZpZXcoKSxcblxuICAgICAgICAgICAgICAgIGRlcHRoTG9hZFZhbHVlOiAxLjAsXG4gICAgICAgICAgICAgICAgZGVwdGhTdG9yZU9wOiBcInN0b3JlXCIsXG4gICAgICAgICAgICAgICAgc3RlbmNpbExvYWRWYWx1ZTogMCxcbiAgICAgICAgICAgICAgICBzdGVuY2lsU3RvcmVPcDogXCJzdG9yZVwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8g8J+WjO+4jyBFbmNvZGUgZHJhd2luZyBjb21tYW5kc1xuICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyID0gdGhpcy5jb21tYW5kRW5jb2Rlci5iZWdpblJlbmRlclBhc3MoXG4gICAgICAgICAgICByZW5kZXJQYXNzRGVzY1xuICAgICAgICApO1xuICAgICAgICBsZXQgY3VycmVudFBpcGVsaW5lID0gdGhpcy5waXBlbGluZXNbMF07XG4gICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0UGlwZWxpbmUoY3VycmVudFBpcGVsaW5lLnBpcGVsaW5lKTtcblxuICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyLnNldEJpbmRHcm91cChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBjdXJyZW50UGlwZWxpbmUudW5pZm9ybUJpbmRHcm91cFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0Vmlld3BvcnQoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDFcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5zZXRTY2lzc29yUmVjdChcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgdGhpcy5jYW52YXMud2lkdGgsXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHRcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJyZW50UGlwZWxpbmUuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGJ1ZmZlciA9IGN1cnJlbnRQaXBlbGluZS5hdHRyaWJ1dGVzW2ldLmJ1ZmZlcjtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFzc0VuY29kZXIuc2V0VmVydGV4QnVmZmVyKGksIGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudFBpcGVsaW5lLmluZGV4TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5zZXRJbmRleEJ1ZmZlcihjdXJyZW50UGlwZWxpbmUuaW5kZXhCdWZmZXIpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhc3NFbmNvZGVyLmRyYXdJbmRleGVkKFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQaXBlbGluZS5pbmRleExlbmd0aCxcbiAgICAgICAgICAgICAgICAxLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5kcmF3KHZlcnROdW0sIDEsIDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZW5kZXJQYXNzRW5jb2Rlci5lbmRQYXNzKCk7XG5cbiAgICAgICAgdGhpcy5kZXZpY2UuZGVmYXVsdFF1ZXVlLnN1Ym1pdChbdGhpcy5jb21tYW5kRW5jb2Rlci5maW5pc2goKV0pO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0wMiAxNDo0MDoxNVxuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0xOCAyMzowMjoyNlxuICovXG5cbmltcG9ydCB7IG1hdDQsIHZlYzMgfSBmcm9tIFwiZ2wtbWF0cml4XCI7XG5pbXBvcnQgeyBXZWJHUFVSZW5kZXJFbmdpbiB9IGZyb20gXCIuLi8uLi9lbmdpbmUvcmVuZGVyRW5naW5cIjtcbmltcG9ydCB7IFdlYkdQVVJlbmRlclBpcGVsaW5lIH0gZnJvbSBcIi4uLy4uL2VuZ2luZS9waXBsaW5lXCI7XG5cbmltcG9ydCBcIi4uLy4uL3N0eWxlLmxlc3NcIjtcblxuY29uc3QgdnMgPSBgI3ZlcnNpb24gNDUwXG5sYXlvdXQoc2V0ID0gMCwgYmluZGluZyA9IDApIHVuaWZvcm0gVW5pZm9ybXMge1xuICAgIG1hdDQgdVByb2plY3Rpb25NYXRyaXg7XG4gICAgbWF0NCB1TW9kZWxWaWV3TWF0cml4O1xufTtcblxubGF5b3V0KGxvY2F0aW9uID0gMCkgaW4gdmVjMyBhUG9zaXRpb247XG5sYXlvdXQobG9jYXRpb24gPSAxKSBpbiB2ZWMzIGFOb3JtYWw7XG5cbmxheW91dChsb2NhdGlvbiA9IDApIG91dCB2ZWMzIHZOb3JtYWw7XG52b2lkIG1haW4oKSB7XG4gICAgZ2xfUG9zaXRpb24gPSB1UHJvamVjdGlvbk1hdHJpeCAqIHVNb2RlbFZpZXdNYXRyaXggKiB2ZWM0KGFQb3NpdGlvbiwgMS4wKTtcbiAgICB2Tm9ybWFsID0gYU5vcm1hbDtcbn1gO1xuXG5jb25zdCBmcyA9IGAjdmVyc2lvbiA0NTBcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7IFxuICAgIGxheW91dChsb2NhdGlvbj0wKSBpbiB2ZWMzIHZOb3JtYWw7XG5cbiAgICBsYXlvdXQobG9jYXRpb249MCkgb3V0IHZlYzQgZnJhZ0NvbG9yO1xuXG4gICAgdm9pZCBtYWluKCl7IFxuICAgICAgICB2ZWM0IGNvbG9yID0gdmVjNCgxLCAwLjcsIDAuNSwgMSk7ICAvLyDmqKHlnovpopzoibJcbiAgICAgICAgdmVjMyBsaWdodENvbG9yID0gdmVjMygwLjEsIDEsIDEpOyAvL+WFiea6kOminOiJslxuICAgICAgICB2ZWMzIG5vcm1hbCA9IG5vcm1hbGl6ZSh2Tm9ybWFsKTsgLy/ms5XlkJHph49cbiAgICAgICAgdmVjMyBkaXIgPSBub3JtYWxpemUodmVjMygwLjUsMS4wLDAuNykpOyAvL+WFiea6kOaWueWQkVxuICAgICAgICBmbG9hdCBjb3NUaGV0YSA9IG1heChkb3Qobm9ybWFsLCBkaXIpLDAuMCk7IC8vIOiuoeeul+WkueinkueahGNvc+WAvFxuICAgICAgICB2ZWMzIGRpZmZ1c2UgPSBsaWdodENvbG9yICogdmVjMyhjb2xvcikgKiBjb3NUaGV0YTtcbiAgICAgICAgZnJhZ0NvbG9yICA9IHZlYzQoZGlmZnVzZSwxLjApO1xuICAgIH1cbmA7XG5cbmNvbnN0IHJlbmRlckVuZ2luZTogV2ViR1BVUmVuZGVyRW5naW4gPSBuZXcgV2ViR1BVUmVuZGVyRW5naW4oXCJyZW5kZXJDYW52YXNcIik7XG5cbnZhciBzaXplID0gMTA7XG52YXIgbG9uZ1NpemUgPSAxMDA7XG52YXIgc2hvcnRTaXplID0gNTA7XG5cbmNvbnN0IHBvc2l0aW9ucyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgIC8vIOmVv+i+ueato+mdolxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIHNpemUsXG4gICAgbG9uZ1NpemUsXG4gICAgMCxcbiAgICAwLFxuICAgIGxvbmdTaXplLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAwLFxuXG4gICAgLy8g6ZW/6L656IOM6Z2iXG4gICAgMCxcbiAgICAwLFxuICAgIC1zaXplLFxuICAgIDAsXG4gICAgbG9uZ1NpemUsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAtc2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAtc2l6ZSxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgLXNpemUsXG5cbiAgICAvL+mVv+i+uemhtlxuICAgIDAsXG4gICAgbG9uZ1NpemUsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIGxvbmdTaXplLFxuICAgIDAsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAtc2l6ZSxcbiAgICAwLFxuICAgIGxvbmdTaXplLFxuICAgIDAsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAtc2l6ZSxcbiAgICAwLFxuICAgIGxvbmdTaXplLFxuICAgIC1zaXplLFxuXG4gICAgLy/plb/ovrnlupVcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIC1zaXplLFxuICAgIHNpemUsXG4gICAgMCxcbiAgICAtc2l6ZSxcblxuICAgIC8v6ZW/6L655bem5L6nXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICBsb25nU2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAtc2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgLXNpemUsXG4gICAgMCxcbiAgICBsb25nU2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgbG9uZ1NpemUsXG4gICAgLXNpemUsXG5cbiAgICAvL+mVv+i+ueWPs+S+p1xuICAgIHNpemUsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIHNpemUsXG4gICAgc2l6ZSxcbiAgICAtc2l6ZSxcbiAgICBzaXplLFxuICAgIGxvbmdTaXplLFxuICAgIDAsXG4gICAgc2l6ZSxcbiAgICBzaXplLFxuICAgIC1zaXplLFxuICAgIHNpemUsXG4gICAgbG9uZ1NpemUsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICBsb25nU2l6ZSxcbiAgICAwLFxuXG4gICAgLy/nn63ovrnliY1cbiAgICBzaXplLFxuICAgIDAsXG4gICAgMCxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIHNpemUsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIHNpemUsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgMCxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIDAsXG4gICAgMCxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIHNpemUsXG4gICAgMCxcblxuICAgIC8v55+t6L655ZCOXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIC1zaXplLFxuICAgIHNpemUsXG4gICAgc2l6ZSxcbiAgICAtc2l6ZSxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIHNpemUsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIC1zaXplLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgc2l6ZSxcbiAgICAtc2l6ZSxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIDAsXG4gICAgLXNpemUsXG5cbiAgICAvL+efrei+ueS4ilxuICAgIHNpemUsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgc2l6ZSxcbiAgICAtc2l6ZSxcbiAgICBzaXplLFxuICAgIHNpemUsXG4gICAgLXNpemUsXG4gICAgc2l6ZSxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgc2l6ZSArIHNob3J0U2l6ZSxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgc2l6ZSArIHNob3J0U2l6ZSxcbiAgICBzaXplLFxuICAgIC1zaXplLFxuXG4gICAgLy/nn63ovrnkuItcbiAgICBzaXplLFxuICAgIDAsXG4gICAgMCxcbiAgICBzaXplLFxuICAgIDAsXG4gICAgLXNpemUsXG4gICAgc2l6ZSArIHNob3J0U2l6ZSxcbiAgICAwLFxuICAgIC1zaXplLFxuICAgIHNpemUsXG4gICAgMCxcbiAgICAwLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgMCxcbiAgICAtc2l6ZSxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIDAsXG4gICAgMCxcblxuICAgIC8v55+t6L655Y+z5L6nXG4gICAgc2l6ZSArIHNob3J0U2l6ZSxcbiAgICAwLFxuICAgIDAsXG4gICAgc2l6ZSArIHNob3J0U2l6ZSxcbiAgICBzaXplLFxuICAgIC1zaXplLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgc2l6ZSxcbiAgICAwLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgMCxcbiAgICAwLFxuICAgIHNpemUgKyBzaG9ydFNpemUsXG4gICAgMCxcbiAgICAtc2l6ZSxcbiAgICBzaXplICsgc2hvcnRTaXplLFxuICAgIHNpemUsXG4gICAgLXNpemUsXG5dKTtcblxuY29uc3Qgbm9ybWFscyA9IG5ldyBGbG9hdDMyQXJyYXkoXG4gICAgbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgIC8vIOmVv+i+ueato+mdolxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuXG4gICAgICAgIC8vIOmVv+i+ueiDjOmdolxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuXG4gICAgICAgIC8v6ZW/6L656aG2XG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG5cbiAgICAgICAgLy/plb/ovrnlupVcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcblxuICAgICAgICAvL+mVv+i+ueW3puS+p1xuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuXG4gICAgICAgIC8v6ZW/6L655Y+z5L6nXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG5cbiAgICAgICAgLy/nn63ovrnliY1cbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgMSxcblxuICAgICAgICAvL+efrei+ueWQjlxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuXG4gICAgICAgIC8v55+t6L655LiKXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIDEsXG4gICAgICAgIDAsXG5cbiAgICAgICAgLy/nn63ovrnkuItcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcbiAgICAgICAgMCxcbiAgICAgICAgLTEsXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIC0xLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAtMSxcbiAgICAgICAgMCxcblxuICAgICAgICAvL+efrei+ueWPs+S+p1xuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAwLFxuICAgICAgICAwLFxuICAgIF0pXG4pO1xuXG5jb25zdCBwcm9qZWN0aW9uTXRyaXggPSBtYXQ0LnBlcnNwZWN0aXZlKFxuICAgIG1hdDQuY3JlYXRlKCksXG4gICAgTWF0aC5QSSAvIDMuNSxcbiAgICByZW5kZXJFbmdpbmUuY2FudmFzLndpZHRoIC8gcmVuZGVyRW5naW5lLmNhbnZhcy5oZWlnaHQsXG4gICAgMC4wMSxcbiAgICAxMDAwMFxuKTtcblxuY29uc3Qgdmlld01hdHJpeCA9IG1hdDQubG9va0F0KFxuICAgIG1hdDQuY3JlYXRlKCksXG4gICAgdmVjMy5mcm9tVmFsdWVzKDAsIGxvbmdTaXplICogMS41LCAyMDApLFxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCBsb25nU2l6ZSAvIDIsIDApLFxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKVxuKTtcblxuY29uc3QgbW9kZWxNYXRyaXggPSBtYXQ0LmZyb21UcmFuc2xhdGlvbihcbiAgICBtYXQ0LmNyZWF0ZSgpLFxuICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAwKVxuKTtcbmNvbnN0IG12TWF0cml4ID0gbWF0NC5tdWwobWF0NC5jcmVhdGUoKSwgbW9kZWxNYXRyaXgsIHZpZXdNYXRyaXgpO1xuXG5jb25zdCBtYXRyaXhBcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoMzIpO1xubWF0cml4QXJyYXkuc2V0KHByb2plY3Rpb25NdHJpeCk7XG5tYXRyaXhBcnJheS5zZXQobXZNYXRyaXgsIDE2KTtcblxubGV0IHBpcGxpbmU6IFdlYkdQVVJlbmRlclBpcGVsaW5lID0gbnVsbDtcbmNvbnN0IGluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgZW5naW5lUmVhZHkgPSBhd2FpdCByZW5kZXJFbmdpbmUuaW5pdCgpO1xuICAgIGlmIChlbmdpbmVSZWFkeSkge1xuICAgICAgICBwaXBsaW5lID0gbmV3IFdlYkdQVVJlbmRlclBpcGVsaW5lKHJlbmRlckVuZ2luZSwgdnMsIGZzKTtcbiAgICAgICAgcGlwbGluZS5hZGRBdHRyaWJ1dGUocG9zaXRpb25zKTtcbiAgICAgICAgcGlwbGluZS5hZGRBdHRyaWJ1dGUobm9ybWFscyk7XG4gICAgICAgIHBpcGxpbmUuYWRkVW5pZm9ybUJ1ZmZlcihtYXRyaXhBcnJheSk7XG4gICAgICAgIHBpcGxpbmUuZ2VuZXJhdGVQaXBsaW5lKCk7XG4gICAgICAgIHJlbmRlcigpO1xuICAgIH1cbn07XG5cbmNvbnN0IHJlbmRlciA9ICgpID0+IHtcbiAgICBsZXQgYnVmZmVyID0gcGlwbGluZS5nZXRVbmlmb3JtRW50cnlCeUJpbmRpbmcoMCkucmVzb3VyY2VcbiAgICAgICAgLmJ1ZmZlciBhcyBHUFVCdWZmZXI7XG4gICAgcGlwbGluZS51cGRhdGVCdWZmZXIoYnVmZmVyLCAwLCBnZXRSb3RhdGVNYXRyaXgoKSk7XG4gICAgcmVuZGVyRW5naW5lLmRyYXcocG9zaXRpb25zLmxlbmd0aCAvIDMpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xufTtcblxuY29uc3QgZ2V0Um90YXRlTWF0cml4ID0gKCkgPT4ge1xuICAgIG1hdDQuZnJvbVJvdGF0aW9uKFxuICAgICAgICBtb2RlbE1hdHJpeCxcbiAgICAgICAgMC4wMDA1ICogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKVxuICAgICk7XG4gICAgbWF0NC5tdWwobXZNYXRyaXgsIHZpZXdNYXRyaXgsIG1vZGVsTWF0cml4KTtcbiAgICBtYXRyaXhBcnJheS5zZXQocHJvamVjdGlvbk10cml4KTtcbiAgICBtYXRyaXhBcnJheS5zZXQobXZNYXRyaXgsIDE2KTtcbiAgICByZXR1cm4gbWF0cml4QXJyYXk7XG59O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgaW5pdCk7XG4iLCJpbXBvcnQgeyBXZWJHUFVSZW5kZXJFbmdpbiB9IGZyb20gXCIuL3JlbmRlckVuZ2luXCI7XG5cbi8qXG4gKiBAQXV0aG9yOiBob25neHUubGluXG4gKiBARGF0ZTogMjAyMC0wNy0xNSAxNTo0MDoyN1xuICogQExhc3RFZGl0VGltZTogMjAyMC0wNy0xOCAyMzowNTozMFxuICovXG5leHBvcnQgY2xhc3MgV2ViR1BVUmVuZGVyUGlwZWxpbmUge1xuICAgIGVuZ2luOiBXZWJHUFVSZW5kZXJFbmdpbjtcbiAgICBwaXBlbGluZTogR1BVUmVuZGVyUGlwZWxpbmU7XG4gICAgcGlwZWxpbmVEZXNjOiBHUFVSZW5kZXJQaXBlbGluZURlc2NyaXB0b3I7XG4gICAgY29sb3JTdGF0ZTogR1BVQ29sb3JTdGF0ZURlc2NyaXB0b3I7XG4gICAgdmVydGV4U3RhdGU6IEdQVVZlcnRleFN0YXRlRGVzY3JpcHRvcjtcbiAgICByYXN0ZXJpemF0aW9uU3RhdGU6IEdQVVJhc3Rlcml6YXRpb25TdGF0ZURlc2NyaXB0b3I7XG5cbiAgICBhdHRyaWJ1dGVzOiBBcnJheTxhbnk+ID0gW107XG5cbiAgICB1bmlmb3JtQmluZEdyb3VwOiBHUFVCaW5kR3JvdXA7XG4gICAgdW5pZm9ybUJpbmRHcm91cExheW91dDogR1BVQmluZEdyb3VwTGF5b3V0O1xuXG4gICAgdW5pZm9ybUVudHJpZXM6IE1hcDxudW1iZXIsIGFueT4gPSBuZXcgTWFwPG51bWJlciwgYW55PigpO1xuICAgIGluZGV4QnVmZmVyOiBHUFVCdWZmZXI7XG4gICAgaW5kZXhMZW5ndGg6IG51bWJlcjtcblxuICAgIHZzOiBzdHJpbmc7XG4gICAgZnM6IHN0cmluZztcbiAgICB2ZXJ0TW9kdWxlOiBHUFVTaGFkZXJNb2R1bGU7XG4gICAgZnJhZ01vZHVsZTogR1BVU2hhZGVyTW9kdWxlO1xuXG4gICAgdmVydGV4U3RhZ2U6IGFueTtcbiAgICBmcmFnbWVudFN0YWdlOiBhbnk7XG5cbiAgICBsYXlvdXQ6IEdQVVBpcGVsaW5lTGF5b3V0O1xuXG4gICAgY29uc3RydWN0b3IoZW5naW5lOiBXZWJHUFVSZW5kZXJFbmdpbiwgdnM6IHN0cmluZywgZnM6IHN0cmluZykge1xuICAgICAgICB0aGlzLmVuZ2luID0gZW5naW5lO1xuICAgICAgICB0aGlzLmVuZ2luLnBpcGVsaW5lcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLnZzID0gdnM7XG4gICAgICAgIHRoaXMuZnMgPSBmcztcblxuICAgICAgICB0aGlzLnZlcnRNb2R1bGUgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICAgICAgY29kZTogdGhpcy5lbmdpbi5nbHNsYW5nLmNvbXBpbGVHTFNMKHZzLCBcInZlcnRleFwiLCB0cnVlKSxcblxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgc291cmNlOiB2cyxcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKHNvdXJjZTogYW55KSA9PlxuICAgICAgICAgICAgICAgIHRoaXMuZW5naW4uZ2xzbGFuZy5jb21waWxlR0xTTChzb3VyY2UsIFwidmVydGV4XCIsIHRydWUpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZyYWdNb2R1bGUgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVTaGFkZXJNb2R1bGUoe1xuICAgICAgICAgICAgY29kZTogdGhpcy5lbmdpbi5nbHNsYW5nLmNvbXBpbGVHTFNMKGZzLCBcImZyYWdtZW50XCIsIHRydWUpLFxuXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBzb3VyY2U6IGZzLFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdHJhbnNmb3JtOiAoc291cmNlOiBhbnkpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5lbmdpbi5nbHNsYW5nLmNvbXBpbGVHTFNMKHNvdXJjZSwgXCJmcmFnbWVudFwiLCB0cnVlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlQnVmZmVyKFxuICAgICAgICBmcm9tVHlwZWRBcnJheTogRmxvYXQzMkFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSxcbiAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlXG4gICAgKSB7XG4gICAgICAgIGxldCBkZXNjID0geyBzaXplOiBmcm9tVHlwZWRBcnJheS5ieXRlTGVuZ3RoLCB1c2FnZSB9O1xuICAgICAgICBsZXQgW2J1ZmZlciwgYnVmZmVyTWFwcGVkXSA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZUJ1ZmZlck1hcHBlZChkZXNjKTtcblxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG5ldyBmcm9tVHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXJNYXBwZWQpLnNldChmcm9tVHlwZWRBcnJheSk7XG4gICAgICAgIGJ1ZmZlci51bm1hcCgpO1xuICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cblxuICAgIHVwZGF0ZUJ1ZmZlcihcbiAgICAgICAgdG86IEdQVUJ1ZmZlcixcbiAgICAgICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgICAgIGZyb21UeXBlZEFycmF5OiBGbG9hdDMyQXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5XG4gICAgKSB7XG4gICAgICAgIGNvbnN0IFtcbiAgICAgICAgICAgIHVwbG9hZEJ1ZmZlcixcbiAgICAgICAgICAgIGJ1ZmZlck1hcHBlZCxcbiAgICAgICAgXSA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZUJ1ZmZlck1hcHBlZCh7XG4gICAgICAgICAgICBzaXplOiBmcm9tVHlwZWRBcnJheS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgdXNhZ2U6IEdQVUJ1ZmZlclVzYWdlLkNPUFlfU1JDLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG5ldyBmcm9tVHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXJNYXBwZWQpLnNldChmcm9tVHlwZWRBcnJheSk7XG4gICAgICAgIHVwbG9hZEJ1ZmZlci51bm1hcCgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHRoaXMuZW5naW4uZGV2aWNlLmRlZmF1bHRRdWV1ZS53cml0ZUJ1ZmZlcihcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZnJvbVR5cGVkQXJyYXksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgZnJvbVR5cGVkQXJyYXkuYnl0ZUxlbmd0aFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFkZEF0dHJpYnV0ZShcbiAgICAgICAgdHlwZWRBcnJheTogRmxvYXQzMkFycmF5IHwgVWludDE2QXJyYXkgfCBVaW50MzJBcnJheSxcbiAgICAgICAgY29tcG9uZW50U2l6ZTogbnVtYmVyID0gM1xuICAgICkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmNyZWF0ZUJ1ZmZlcih0eXBlZEFycmF5LCBHUFVCdWZmZXJVc2FnZS5WRVJURVgpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMucHVzaCh7IGJ1ZmZlciwgY29tcG9uZW50U2l6ZSB9KTtcbiAgICB9XG5cbiAgICBzZXRJbmRleCh0eXBlZEFycmF5OiBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5KSB7XG4gICAgICAgIHRoaXMuaW5kZXhCdWZmZXIgPSB0aGlzLmNyZWF0ZUJ1ZmZlcih0eXBlZEFycmF5LCBHUFVCdWZmZXJVc2FnZS5JTkRFWCk7XG4gICAgICAgIHRoaXMuaW5kZXhMZW5ndGggPSB0eXBlZEFycmF5Lmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gb3B0aW9uc1xuICAgICAqICBiaW5kaW5nOiAwLFxuICAgICAqICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVgsXG4gICAgICogIHR5cGU6IFwidW5pZm9ybS1idWZmZXJcIixcbiAgICAgKiAgcmVzb3VyY2U6IGJ1ZmZlciB8IHNhbXBsZXIgfCB0ZXh0dXJlVmlld1xuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFdlYkdQVVJlbmRlclBpcGVsaW5lXG4gICAgICovXG4gICAgYWRkVW5pZm9ybUVudHJ5KG9wdGlvbnM6IGFueSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1FbnRyaWVzLnNldChvcHRpb25zLmJpbmRpbmcsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGdldFVuaWZvcm1FbnRyeUJ5QmluZGluZyhrZXk6IG51bWJlcik6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1FbnRyaWVzLmdldChrZXkpO1xuICAgIH1cblxuICAgIGFkZFVuaWZvcm1CdWZmZXIoXG4gICAgICAgIHR5cGVkQXJyYXk6IEZsb2F0MzJBcnJheSB8IFVpbnQxNkFycmF5IHwgVWludDMyQXJyYXksXG4gICAgICAgIGJpbmRpbmc6IG51bWJlciA9IDBcbiAgICApIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5jcmVhdGVCdWZmZXIoXG4gICAgICAgICAgICB0eXBlZEFycmF5LFxuICAgICAgICAgICAgR1BVQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEdQVUJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuYWRkVW5pZm9ybUVudHJ5KHtcbiAgICAgICAgICAgIGJpbmRpbmc6IDAsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5WRVJURVggfCBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgICAgIHR5cGU6IFwidW5pZm9ybS1idWZmZXJcIixcbiAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXIsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhZGRTYW1wbGVyKFxuICAgICAgICBiaW5kaW5nOiBudW1iZXIsXG4gICAgICAgIG1hZ0ZpbHRlcjogR1BVRmlsdGVyTW9kZSA9IFwibGluZWFyXCIsXG4gICAgICAgIG1pbkZpbHRlcjogR1BVRmlsdGVyTW9kZSA9IFwibGluZWFyXCJcbiAgICApIHtcbiAgICAgICAgY29uc3Qgc2FtcGxlciA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZVNhbXBsZXIoe1xuICAgICAgICAgICAgbWFnRmlsdGVyOiBtYWdGaWx0ZXIsXG4gICAgICAgICAgICBtaW5GaWx0ZXI6IG1pbkZpbHRlcixcbiAgICAgICAgICAgIG1heEFuaXNvdHJvcHk6IDQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkVW5pZm9ybUVudHJ5KHtcbiAgICAgICAgICAgIGJpbmRpbmc6IGJpbmRpbmcsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBHUFVTaGFkZXJTdGFnZS5GUkFHTUVOVCxcbiAgICAgICAgICAgIHR5cGU6IFwic2FtcGxlclwiLFxuICAgICAgICAgICAgcmVzb3VyY2U6IHNhbXBsZXIsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZFRleHR1cmVWaWV3KFxuICAgICAgICBiaW5kaW5nOiBudW1iZXIsXG4gICAgICAgIHVybDogc3RyaW5nLFxuICAgICAgICBuZWVkQ29yczogYm9vbGVhbiA9IHRydWVcbiAgICApIHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGlmIChuZWVkQ29ycykge1xuICAgICAgICAgICAgaW1nLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICAgICAgfVxuICAgICAgICBpbWcuc3JjID0gdXJsO1xuICAgICAgICBhd2FpdCBpbWcuZGVjb2RlKCk7XG4gICAgICAgIGNvbnN0IGJpdG1hcCA9IGF3YWl0IGNyZWF0ZUltYWdlQml0bWFwKGltZyk7XG5cbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZVRleHR1cmUoe1xuICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGRlcHRoOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdDogXCJyZ2JhOHVub3JtXCIsXG4gICAgICAgICAgICB1c2FnZTogR1BVVGV4dHVyZVVzYWdlLkNPUFlfRFNUIHwgR1BVVGV4dHVyZVVzYWdlLlNBTVBMRUQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzb3VyY2U6IEdQVUltYWdlQml0bWFwQ29weVZpZXcgPSB7XG4gICAgICAgICAgICBpbWFnZUJpdG1hcDogYml0bWFwLFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBkZXN0aW5hdGlvbjogR1BVVGV4dHVyZUNvcHlWaWV3ID0ge1xuICAgICAgICAgICAgdGV4dHVyZTogdGV4dHVyZSxcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgY29weVNpemU6IEdQVUV4dGVudDNEID0ge1xuICAgICAgICAgICAgd2lkdGg6IGltZy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaW1nLmhlaWdodCxcbiAgICAgICAgICAgIGRlcHRoOiAxLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZW5naW4uZGV2aWNlLmRlZmF1bHRRdWV1ZS5jb3B5SW1hZ2VCaXRtYXBUb1RleHR1cmUoXG4gICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICBkZXN0aW5hdGlvbixcbiAgICAgICAgICAgIGNvcHlTaXplXG4gICAgICAgICk7XG5cbiAgICAgICAgYml0bWFwLmNsb3NlKCk7XG5cbiAgICAgICAgdGhpcy5hZGRVbmlmb3JtRW50cnkoe1xuICAgICAgICAgICAgYmluZGluZzogYmluZGluZyxcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgICAgICAgICAgdHlwZTogXCJzYW1wbGVkLXRleHR1cmVcIixcbiAgICAgICAgICAgIHJlc291cmNlOiB0ZXh0dXJlLmNyZWF0ZVZpZXcoKSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gYWRkVW5pZm9ybSh0eXBlZEFycmF5OiBGbG9hdDMyQXJyYXkgfCBVaW50MTZBcnJheSB8IFVpbnQzMkFycmF5KSB7XG4gICAgLy8gICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuY3JlYXRlQnVmZmVyKFxuICAgIC8vICAgICAgICAgdHlwZWRBcnJheSxcbiAgICAvLyAgICAgICAgIEdQVUJ1ZmZlclVzYWdlLlVOSUZPUk0gfCBHUFVCdWZmZXJVc2FnZS5DT1BZX0RTVFxuICAgIC8vICAgICApO1xuXG4gICAgLy8gICAgIC8vIEB0cy1pZ25vcmVcbiAgICAvLyAgICAgY29uc3QgYmluZEdyb3VwTGF5b3V0RGVzOiBHUFVCaW5kR3JvdXBMYXlvdXREZXNjcmlwdG9yID0ge1xuICAgIC8vICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgIC8vICAgICAgICAgZW50cmllczogW1xuICAgIC8vICAgICAgICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgYmluZGluZzogMCxcbiAgICAvLyAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuVkVSVEVYLFxuICAgIC8vICAgICAgICAgICAgICAgICB0eXBlOiBcInVuaWZvcm0tYnVmZmVyXCIsXG4gICAgLy8gICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICAvLyB7XG4gICAgLy8gICAgICAgICAgICAgLy8gICAgIGJpbmRpbmc6IDEsXG4gICAgLy8gICAgICAgICAgICAgLy8gICAgIHZpc2liaWxpdHk6IEdQVVNoYWRlclN0YWdlLkZSQUdNRU5ULFxuICAgIC8vICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcInNhbXBsZXJcIixcbiAgICAvLyAgICAgICAgICAgICAvLyB9LFxuICAgIC8vICAgICAgICAgICAgIC8vIHtcbiAgICAvLyAgICAgICAgICAgICAvLyAgICAgYmluZGluZzogMixcbiAgICAvLyAgICAgICAgICAgICAvLyAgICAgdmlzaWJpbGl0eTogR1BVU2hhZGVyU3RhZ2UuRlJBR01FTlQsXG4gICAgLy8gICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwic2FtcGxlZC10ZXh0dXJlXCIsXG4gICAgLy8gICAgICAgICAgICAgLy8gfSxcbiAgICAvLyAgICAgICAgIF0sXG4gICAgLy8gICAgIH07XG4gICAgLy8gICAgIGNvbnN0IHVuaWZvcm1CaW5kR3JvdXBMYXlvdXQgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVCaW5kR3JvdXBMYXlvdXQoXG4gICAgLy8gICAgICAgICBiaW5kR3JvdXBMYXlvdXREZXNcbiAgICAvLyAgICAgKTtcbiAgICAvLyAgICAgLy8g8J+XhO+4jyBCaW5kIEdyb3VwXG4gICAgLy8gICAgIC8vIOKcjSBUaGlzIHdvdWxkIGJlIHVzZWQgd2hlbiBlbmNvZGluZyBjb21tYW5kc1xuICAgIC8vICAgICB1bmlmb3JtQmluZEdyb3VwID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlQmluZEdyb3VwKHtcbiAgICAvLyAgICAgICAgIGxheW91dDogdW5pZm9ybUJpbmRHcm91cExheW91dCxcbiAgICAvLyAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAvLyAgICAgICAgIGVudHJpZXM6IFtcbiAgICAvLyAgICAgICAgICAgICB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGJpbmRpbmc6IDAsXG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlcixcbiAgICAvLyAgICAgICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICB9LFxuICAgIC8vICAgICAgICAgXSxcbiAgICAvLyAgICAgfSk7XG5cbiAgICAvLyAgICAgdGhpcy51bmlmb3JtR3JvdXBJbmZvID0ge1xuICAgIC8vICAgICAgICAgYnVmZmVyLFxuICAgIC8vICAgICAgICAgdW5pZm9ybUJpbmRHcm91cExheW91dCxcbiAgICAvLyAgICAgICAgIHVuaWZvcm1CaW5kR3JvdXAsXG4gICAgLy8gICAgIH07XG4gICAgLy8gfVxuXG4gICAgZ2VuZXJhdGVVbmlmb3JtcygpIHtcbiAgICAgICAgY29uc3QgYmluZEdyb3VwTGF5b3V0RGVzOiBhbnkgPSB7IGVudHJpZXM6IFtdIH07XG4gICAgICAgIGNvbnN0IGJpbmRHcm91cEVudHJpZXM6IEFycmF5PGFueT4gPSBbXTtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IHRoaXMudW5pZm9ybUVudHJpZXMudmFsdWVzO1xuICAgICAgICB0aGlzLnVuaWZvcm1FbnRyaWVzLmZvckVhY2goKGVudHJ5LCBrZXkpID0+IHtcbiAgICAgICAgICAgIGJpbmRHcm91cExheW91dERlcy5lbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGJpbmRpbmc6IGVudHJ5LmJpbmRpbmcsXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogZW50cnkudmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICB0eXBlOiBlbnRyeS50eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiaW5kR3JvdXBFbnRyaWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGJpbmRpbmc6IGVudHJ5LmJpbmRpbmcsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2U6IGVudHJ5LnJlc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudW5pZm9ybUJpbmRHcm91cExheW91dCA9IHRoaXMuZW5naW4uZGV2aWNlLmNyZWF0ZUJpbmRHcm91cExheW91dChcbiAgICAgICAgICAgIGJpbmRHcm91cExheW91dERlc1xuICAgICAgICApO1xuICAgICAgICB0aGlzLnVuaWZvcm1CaW5kR3JvdXAgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVCaW5kR3JvdXAoe1xuICAgICAgICAgICAgbGF5b3V0OiB0aGlzLnVuaWZvcm1CaW5kR3JvdXBMYXlvdXQsXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBlbnRyaWVzOiBiaW5kR3JvdXBFbnRyaWVzLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVBpcGxpbmUoKSB7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVVbmlmb3JtcygpO1xuICAgICAgICAvLyDwn5aN77iPIFNoYWRlciBNb2R1bGVzXG4gICAgICAgIHRoaXMudmVydGV4U3RhZ2UgPSB7XG4gICAgICAgICAgICBtb2R1bGU6IHRoaXMudmVydE1vZHVsZSxcbiAgICAgICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpblwiLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuZnJhZ21lbnRTdGFnZSA9IHtcbiAgICAgICAgICAgIG1vZHVsZTogdGhpcy5mcmFnTW9kdWxlLFxuICAgICAgICAgICAgZW50cnlQb2ludDogXCJtYWluXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g8J+NpSBCbGVuZCBTdGF0ZVxuICAgICAgICB0aGlzLmNvbG9yU3RhdGUgPSB7XG4gICAgICAgICAgICBmb3JtYXQ6IFwiYmdyYTh1bm9ybVwiLFxuICAgICAgICAgICAgLy8gYWxwaGFCbGVuZDoge1xuICAgICAgICAgICAgLy8gICAgIHNyY0ZhY3RvcjogXCJzcmMtYWxwaGFcIixcbiAgICAgICAgICAgIC8vICAgICBkc3RGYWN0b3I6IFwib25lLW1pbnVzLXNyYy1hbHBoYVwiLFxuICAgICAgICAgICAgLy8gICAgIG9wZXJhdGlvbjogXCJhZGRcIixcbiAgICAgICAgICAgIC8vIH0sXG4gICAgICAgICAgICBjb2xvckJsZW5kOiB7XG4gICAgICAgICAgICAgICAgc3JjRmFjdG9yOiBcInNyYy1hbHBoYVwiLFxuICAgICAgICAgICAgICAgIGRzdEZhY3RvcjogXCJvbmUtbWludXMtc3JjLWFscGhhXCIsXG4gICAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcImFkZFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlTWFzazogR1BVQ29sb3JXcml0ZS5BTEwsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g8J+UuiBSYXN0ZXJpemF0aW9uXG4gICAgICAgIHRoaXMucmFzdGVyaXphdGlvblN0YXRlID0ge1xuICAgICAgICAgICAgLy8gZnJvbnRGYWNlOiBcImN3XCIsXG4gICAgICAgICAgICAvLyBjdWxsTW9kZTogXCJiYWNrXCIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8g8J+SviBVbmlmb3JtIERhdGFcbiAgICAgICAgdGhpcy5sYXlvdXQgPSB0aGlzLmVuZ2luLmRldmljZS5jcmVhdGVQaXBlbGluZUxheW91dCh7XG4gICAgICAgICAgICBiaW5kR3JvdXBMYXlvdXRzOiBbdGhpcy51bmlmb3JtQmluZEdyb3VwTGF5b3V0XSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhTdGF0ZSA9IHtcbiAgICAgICAgICAgIGluZGV4Rm9ybWF0OiBcInVpbnQxNlwiLFxuICAgICAgICAgICAgdmVydGV4QnVmZmVyczogdGhpcy5nZXRWZXJ0ZXhCdWZmZXJEZXNjKCksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5waXBlbGluZURlc2MgPSB7XG4gICAgICAgICAgICBsYXlvdXQ6IHRoaXMubGF5b3V0LFxuICAgICAgICAgICAgdmVydGV4U3RhZ2U6IHRoaXMudmVydGV4U3RhZ2UsXG4gICAgICAgICAgICBmcmFnbWVudFN0YWdlOiB0aGlzLmZyYWdtZW50U3RhZ2UsXG4gICAgICAgICAgICBwcmltaXRpdmVUb3BvbG9neTogXCJ0cmlhbmdsZS1saXN0XCIsXG4gICAgICAgICAgICBjb2xvclN0YXRlczogW3RoaXMuY29sb3JTdGF0ZV0sXG4gICAgICAgICAgICB2ZXJ0ZXhTdGF0ZTogdGhpcy52ZXJ0ZXhTdGF0ZSxcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbFN0YXRlOiB7XG4gICAgICAgICAgICAgICAgZGVwdGhXcml0ZUVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgZGVwdGhDb21wYXJlOiBcImxlc3NcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwiZGVwdGgyNHBsdXMtc3RlbmNpbDhcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByYXN0ZXJpemF0aW9uU3RhdGU6IHRoaXMucmFzdGVyaXphdGlvblN0YXRlLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnBpcGVsaW5lID0gdGhpcy5lbmdpbi5kZXZpY2UuY3JlYXRlUmVuZGVyUGlwZWxpbmUoXG4gICAgICAgICAgICB0aGlzLnBpcGVsaW5lRGVzY1xuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFZlcnRleEJ1ZmZlckRlc2MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyRGVzYzogR1BVVmVydGV4QnVmZmVyTGF5b3V0RGVzY3JpcHRvciA9IHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlckxvY2F0aW9uOiBpbmRleCwgLy8gW1thdHRyaWJ1dGUoaW5kZXgpXV1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogYGZsb2F0JHtpdGVtLmNvbXBvbmVudFNpemV9YCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIGFycmF5U3RyaWRlOiA0ICogaXRlbS5jb21wb25lbnRTaXplLCAvLyBzaXplb2YoZmxvYXQpICogM1xuICAgICAgICAgICAgICAgIHN0ZXBNb2RlOiBcInZlcnRleFwiLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBidWZmZXJEZXNjO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9